/*
 * @author Pimp.js: Mudit Ameta
 * @license https://github.com/zeusdeux/pimp/blob/master/LICENSE MIT
 * @author setImmediate: YuzuJS
 * @license https://github.com/YuzuJS/setImmediate/blob/master/LICENSE.txt
 */
//# sourceMappingURL=pimp.min.map
!function(e,n){"use strict";function t(e){return m[d]=r.apply(n,e),d++}function r(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(n,t):new Function(""+e)()}}function o(e){if(h)setTimeout(r(o,e),0);else{var n=m[e];if(n){h=!0;try{n()}finally{i(e),h=!1}}}}function i(e){delete m[e]}function c(){p=function(){var e=t(arguments);return process.nextTick(r(o,e)),e}}function a(){if(e.postMessage&&!e.importScripts){var n=!0,t=e.onmessage;return e.onmessage=function(){n=!1},e.postMessage("","*"),e.onmessage=t,n}}function s(){var n="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(n)&&o(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),p=function(){var r=t(arguments);return e.postMessage(n+r,"*"),r}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var n=e.data;o(n)},p=function(){var n=t(arguments);return e.port2.postMessage(n),n}}function f(){var e=v.documentElement;p=function(){var n=t(arguments),r=v.createElement("script");return r.onreadystatechange=function(){o(n),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r),n}}function l(){p=function(){var e=t(arguments);return setTimeout(r(o,e),0),e}}if(!e.setImmediate){var p,d=1,m={},h=!1,v=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?c():a()?s():e.MessageChannel?u():v&&"onreadystatechange"in v.createElement("script")?f():l(),y.setImmediate=p,y.clearImmediate=i}}(new Function("return this")()),function(e){"use strict";function n(e){function r(e){var n;null!==u&&(e.done||(n=u?e.onFulfilled:e.onRejected,n?t(function(){var t;try{t=n(s),e.resolve(t)}catch(r){e.reject(r)}}):(u?e.resolve:e.reject)(s),e.done=!0))}function o(){for(var e in f)r(f[e])}function i(e){if(null===u){if(e)if(l===e)c(new TypeError("Promise cannot resolve to itself. Sorry brah!"));else if(e.constructor&&"Promise"===e.constructor.name)e.then(i,c);else if("function"==typeof e||"object"==typeof e)try{var n=e.then;"function"==typeof n?a(n.bind(e),i,c):(u=!0,s=e)}catch(t){c(t)}else u=!0,s=e;else u=!0,s=e;o()}}function c(e){null===u&&(u=!1,s=e,o())}function a(e,n,t){var r=!1;try{e(function(e){r||(r=!0,n(e))},function(e){r||(r=!0,t(e))})}catch(o){r||(r=!0,t(o))}}var s,u=null,f=[],l=this;if("function"!=typeof e)return new TypeError("Promise constructor requires a function");try{e(i,c)}catch(p){c(p)}this.then=function(e,t){var o,i=new n(function(n,r){o={promise:i,onFulfilled:"function"==typeof e&&e,onRejected:"function"==typeof t&&t,resolve:n,reject:r,done:!1}});return r(o),f.push(o),i},this.inspect=function(){var e={};return null===u?e.state="pending":u?(e.state="fulfilled",e.value=s):(e.state="rejected",e.reason=s),e}}e.exports?e.exports=n:e.Pimp=n;var t;try{t=process.nextTick}catch(r){try{t=setImmediate}catch(r){t=function(e){window.setTimeout(function(){e()},0)}}}}("undefined"==typeof module?window:module),function(e){"use strict";function n(e,n){switch(e){case"Pimp.all":case"Pimp.allFail":case"Pimp.race":if(!(n instanceof Array))throw new SyntaxError(e+" needs to be passed an array");if(!n.length)throw new SyntaxError(e+" needs an array of length >= 1");break;case"Pimp.denodeify":if(!(n instanceof Function))throw new SyntaxError(e+" needs to be passed a function to promisify")}return!0}var t;t="[object Window]"===e.toString()&&"undefined"==typeof require?e.Pimp:process.env.PIMP_BROWSER_TEST?e.exports:require("./pimp"),e.exports?e.exports=t:e.Pimp=t,t.prototype.catch=function(e){return this.then(function(e){return e},e)},t.resolve=function(e){return new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,t){t(e)})},t.cast=function(e){return e instanceof t&&e.then?e:t.resolve(e)},t.all=function(e){return n("Pimp.all",e),new t(function(n,r){var o=0,i=[];for(var c in e)e.hasOwnProperty(c)&&(e[c].then||(e[c]=t.cast(e[c])),e[c].then(function(t){o++,i.push(t),e.length===o&&n(i)},function(e){r(e)}))})},t.allFail=function(e){return n("Pimp.allFail",e),new t(function(n,r){var o=0,i=[];for(var c in e)e.hasOwnProperty(c)&&(e[c].then||(e[c]=t.cast(e[c])),e[c].then(function(e){r(e)},function(t){o++,i.push(t),e.length===o&&n(i)}))})},t.race=function(e){return n("Pimp.race",e),new t(function(n,r){for(var o in e)e.hasOwnProperty(o)&&(e[o].then||(e[o]=t.cast(e[o])),e[o].then(function(e){n(e)},function(e){r(e)}))})},t.deferred=function(){var e={};return e.promise=new t(function(n,t){e.resolve=n,e.reject=t}),e.inspect=e.promise.inspect,e},t.denodeify=function(e){return n("Pimp.denodeify",e),function(){var n=t.deferred(),r=function(e,t){e?n.reject(e):(t=arguments.length>2?[].slice.call(arguments,1):t,n.resolve(t))};return[].push.call(arguments,r),e.apply(this,arguments),n.promise}}}("undefined"==typeof module?window:module);